(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{223:function(s,a,t){"use strict";t.r(a);var l=t(0),r=Object(l.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"linux下安装mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux下安装mysql"}},[s._v("#")]),s._v(" linux下安装mysql")]),s._v(" "),t("p",[s._v("Mysql数据库的安装对于开发者来说，是我们必然会面对的问题，它的安装过程其实并不复杂，并且网络上的安装教程也非常多，但是对于新手来说，各种不同形式的安装教程，又给新手们带来了要选择哪种方式进行安装的难题，而且很多时候按照教程也没有能够安装成功，安装过程出现各种各样的错误。")]),s._v(" "),t("p",[s._v("下面记录了我在Linux环境下安装Mysql的完整过程，如有错误或遗漏，欢迎指正。")]),s._v(" "),t("h2",{attrs:{id:"安装前准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装前准备"}},[s._v("#")]),s._v(" 安装前准备")]),s._v(" "),t("h3",{attrs:{id:"_1-检查mysql用户组和用户是否存在，如果没有，则创建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-检查mysql用户组和用户是否存在，如果没有，则创建"}},[s._v("#")]),s._v(" 1.检查mysql用户组和用户是否存在，如果没有，则创建")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM_0_2_centos /]# cat /etc/group | grep mysql\n[root@VM_0_2_centos /]# cat /etc/passwd | grep mysql\n[root@VM_0_2_centos /]# groupadd mysql\n[root@VM_0_2_centos /]# useradd -r -g mysql mysql\n\n")])])]),t("h3",{attrs:{id:"_2-从官网下载用于linux的mysql安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-从官网下载用于linux的mysql安装包"}},[s._v("#")]),s._v(" 2.从官网下载用于linux的mysql安装包")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM_0_2_centos /]# wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.24-linux-glibc2.12-x86_64.tar.gz\n")])])]),t("h2",{attrs:{id:"安装mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装mysql"}},[s._v("#")]),s._v(" 安装mysql")]),s._v(" "),t("h3",{attrs:{id:"_1-在执行wget命令的目录下找到mysql安装包mysql-5-7-24-linux-glibc2-12-x86-64-tar-gz"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-在执行wget命令的目录下找到mysql安装包mysql-5-7-24-linux-glibc2-12-x86-64-tar-gz"}},[s._v("#")]),s._v(" 1.在执行wget命令的目录下找到mysql安装包mysql-5.7.24-linux-glibc2.12-x86_64.tar.gz")]),s._v(" "),t("p",[s._v("执行解压命令")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM_0_2_centos /]# tar xzvf mysql-5.7.24-linux-glibc2.12-x86_64.tar.gz\n[root@VM_0_2_centos /]# ls\nmysql-5.7.24-linux-glibc2.12-x86_64.tar.gz\nmysql-5.7.24-linux-glibc2.12-x86_64\n")])])]),t("p",[s._v("解压完成后，可以在当前目录下多了个加压文件，移动文件到/usr/local/mysql\n执行移动命令")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM_0_2_centos /]# mv mysql-5.7.24-linux-glibc2.12-x86_64 /usr/local/mysql\n")])])]),t("h3",{attrs:{id:"_2-在-usr-local-mysql目录下创建data目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-在-usr-local-mysql目录下创建data目录"}},[s._v("#")]),s._v(" 2.在/usr/local/mysql目录下创建data目录")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM_0_2_centos /]# mkdir /usr/local/mysql/data\n")])])]),t("h3",{attrs:{id:"_3-更改mysql目录下多有目录及文件夹所属的用户组和用户，以及权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-更改mysql目录下多有目录及文件夹所属的用户组和用户，以及权限"}},[s._v("#")]),s._v(" 3.更改mysql目录下多有目录及文件夹所属的用户组和用户，以及权限")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM_0_2_centos /]#  chown -R mysql:mysql /usr/local/mysql\n[root@VM_0_2_centos /]# chown -R 755 /usr/local/mysql\n")])])]),t("h3",{attrs:{id:"_4-编译安装并初始化mysql，务必记住初始化输出末尾的密码（数据库管理员临时密码）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-编译安装并初始化mysql，务必记住初始化输出末尾的密码（数据库管理员临时密码）"}},[s._v("#")]),s._v(" 4.编译安装并初始化mysql，务必记住初始化输出末尾的密码（数据库管理员临时密码）")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM_0_2_centos /]# cd /usr/local/mysql/bin\n[root@VM_0_2_centos /]# ./mysql --initialize --user==mysql --data=/usr/local/mysql/data -basedir=/usr/local/mysql\n")])])]),t("h3",{attrs:{id:"补充说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[s._v("#")]),s._v(" 补充说明")]),s._v(" "),t("p",[s._v("此时可能出现错误\n"),t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/27/16eaaad3c26fe409?w=962&h=55&f=png&s=66200",alt:""}}),s._v(")\n出现该问题首先检查该链接文件有没有安装使用命令进行核查")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM_0_2_centos /]# rpm -qa|grep libaio\n[root@VM_0_2_centos /]#\n")])])]),t("p",[s._v("运行命令后发现系统中无该链接库文件(如果有看下一条)")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM_0_2_centos /]# yum install libaio-devel.x86_64\n")])])]),t("p",[s._v("安装成功后，继续运行初始化命令，此时可能出现如下错误：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/27/16eaaba576427115?w=799&h=87&f=png&s=76132",alt:""}})]),s._v(" "),t("p",[s._v("执行如下命令后，再次运行数据库的初始化命令")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM_0_2_centos /]# yum -y install numactl\n")])])]),t("h3",{attrs:{id:"_5-运行初始化命令成功后，输出日志如下"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-运行初始化命令成功后，输出日志如下"}},[s._v("#")]),s._v(" 5.运行初始化命令成功后，输出日志如下")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/27/16eaabd07e822d36?w=576&h=320&f=png&s=318700",alt:""}})]),s._v(" "),t("p",[s._v("记录日志最末尾的字符串，此字符串为mysql管理员临时登录密码")]),s._v(" "),t("h3",{attrs:{id:"_6-编辑配置文件my-cnf，添加配置如下"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-编辑配置文件my-cnf，添加配置如下"}},[s._v("#")]),s._v(" 6.编辑配置文件my.cnf，添加配置如下")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("datadir=/usr/local/mysql/data\nbasedir=/usr/local/mysql\nport = 3306\n# Disabling symbolic-links is recommended to prevent assorted security risks\nsymbolic-links=0\n")])])]),t("h3",{attrs:{id:"_7-启动mysql服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-启动mysql服务器"}},[s._v("#")]),s._v(" 7.启动mysql服务器")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM_0_2_centos /]# /usr/local/mysql/support-files/mysql.server start\n")])])]),t("p",[s._v("显示如下结果，说明数据库安装成功")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/27/16eaac60b57ac91b?w=575&h=50&f=png&s=33886",alt:""}})]),s._v(" "),t("h3",{attrs:{id:"_8-添加软链接，并重启mysql服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-添加软链接，并重启mysql服务"}},[s._v("#")]),s._v(" 8.添加软链接，并重启mysql服务")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM_0_2_centos /]# ln -s /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql\n[root@VM_0_2_centos /]# ln -s /usr/local/mysql/bin/mysql /usr/bin/mysql\n[root@VM_0_2_centos /]# service mysql restart\n")])])]),t("h3",{attrs:{id:"_9-登录mysql，-修改密码（密码为步骤5生成的临时密码）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9-登录mysql，-修改密码（密码为步骤5生成的临时密码）"}},[s._v("#")]),s._v(" 9.登录mysql， 修改密码（密码为步骤5生成的临时密码）")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM_0_2_centos /]# mysql -u root -p\nEnter password:\nmysql>set password for root@localhost = password('yourpass');\n")])])]),t("p",[s._v("如果执行成功，输出如下")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/27/16eaaccc58b5dd89?w=468&h=46&f=png&s=28212",alt:""}}),s._v("\n否则执行")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[root@VM_0_2_centos /]# mysql -u root -p\nEnter password:\nmysql>alter user 'root'@'localhost' IDENTIFIED BY 'liuhehe';\n")])])]),t("h3",{attrs:{id:"_10-开放远程连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10-开放远程连接"}},[s._v("#")]),s._v(" 10.开放远程连接")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql>use mysql;\nmsyql>update user set user.Host='%' where user.User='root';\nmysql>flush privileges;\n")])])]),t("p",[s._v("执行后输出如下，说明修改成功，可以使用mysql远程工具连接")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/11/27/16eaadab0828eff9?w=503&h=206&f=png&s=96684",alt:""}})])])}),[],!1,null,null,null);a.default=r.exports}}]);